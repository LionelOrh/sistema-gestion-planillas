<section class="trabajadores-gestion">
    <link rel="stylesheet" href="trabajadores.css">
    <header class="trabajadores-header">
        <div>
            <h1>Gestión de Trabajadores</h1>
            <h2 class="trabajadores-contador">Trabajadores</h2>
        </div>
        <div>
            <input type="button" class="button-exportar" value="Exportar" id="btnExportar">
            <input type="button" class="button-agregar" value="Agregar Trabajador" id="btnAgregarTrabajador">
        </div>
    </header>
    <hr>
    <div class="trabajadores-filtros">
        <div class="filtro-busqueda">
            <input type="text" class="input-busqueda" placeholder="Buscaraa por nombre o documento...">
        </div>
        <div class="filtro-area">
            <select class="select-area">
                <option value="todas">Todas las áreas</option>
                <option value="produccion">Producción</option>
                <option value="administracion">Administración</option>
                <option value="ventas">Ventas</option>
                <!-- Agrega más áreas según tu sistema -->
            </select>
        </div>
        <div class="filtro-estado">
            <select class="select-estado">
                <option value="todos">Todos</option>
                <option value="activos">Activos</option>
                <option value="inactivos">Inactivos</option>
            </select>
        </div>
    </div>
    <div class="trabajadores-tabla-wrapper">
        <div class="trabajadores-tabla-container">
            <table class="trabajadores-tabla">
                <thead>
                    <tr>
                        <th>Trabajador</th>
                        <th>Documento</th>
                        <th>Área</th>
                        <th>Cargo</th>
                        <th>Sueldo</th>
                        <th>Estado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Los trabajadores se cargarán dinámicamente desde la base de datos -->
                </tbody>
            </table>
        </div>
    </div>
    <div class="trabajadores-paginacion">
        <!-- Paginación aquí -->
    </div>
</section>

<!-- Modal para Agregar Trabajador -->
<div class="modal-overlay" id="modalAgregarTrabajador">
    <div class="modal-container">
        <div class="modal-header">
            <h2>Agregar Nuevo Trabajador</h2>
            <button class="modal-close" id="btnCerrarModal">&times;</button>
        </div>
        
        <!-- Pestañas del Modal -->
        <div class="modal-tabs">
            <button class="tab-button active" data-tab="personal">Personal</button>
            <button class="tab-button" data-tab="contacto">Contacto</button>
            <button class="tab-button" data-tab="laboral">Laboral</button>
            <button class="tab-button" data-tab="financiero">Financiamiento</button>
        </div>
        
        <form class="modal-form" id="formTrabajador">
            <!-- Sección Personal -->
            <div class="tab-content active" id="tab-personal">
                <h3>Datos Personales</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="nombres">Nombres *</label>
                        <input type="text" id="nombres" name="nombres">
                    </div>
                    <div class="form-group">
                        <label for="apellidos">Apellidos *</label>
                        <input type="text" id="apellidos" name="apellidos">
                    </div>
                    <div class="form-group">
                        <label for="tipoDni">Tipo de Documento *</label>
                        <select id="tipoDni" name="tipoDni">
                            <option value="">Seleccionar...</option>
                            <option value="DNI">DNI</option>
                            <option value="CE">Carnet de Extranjería</option>
                            <option value="PASAPORTE">Pasaporte</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="numeroDocumento">Número de Documento *</label>
                        <input type="text" id="numeroDocumento" name="numeroDocumento">
                    </div>
                    <div class="form-group">
                        <label for="fechaNacimiento">Fecha de Nacimiento</label>
                        <input type="date" id="fechaNacimiento" name="fechaNacimiento">
                    </div>
                    <div class="form-group">
                        <label for="sexo">Sexo</label>
                        <select id="sexo" name="sexo">
                            <option value="">Seleccionar...</option>
                            <option value="M">Masculino</option>
                            <option value="F">Femenino</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="estadoCivil">Estado Civil</label>
                        <select id="estadoCivil" name="estadoCivil">
                            <option value="">Seleccionar...</option>
                            <option value="SOLTERO">Soltero(a)</option>
                            <option value="CASADO">Casado(a)</option>
                            <option value="DIVORCIADO">Divorciado(a)</option>
                            <option value="VIUDO">Viudo(a)</option>
                            <option value="CONVIVIENTE">Conviviente</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="nacionalidad">Nacionalidad</label>
                        <select id="nacionalidad" name="nacionalidad">
                            <option value="">Seleccionar...</option>
                            <option value="PERUANA">Peruana</option>
                            <option value="EXTRANJERA">Extranjera</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Sección Contacto -->
            <div class="tab-content" id="tab-contacto">
                <h3>Información de Contacto</h3>
                <div class="form-grid">
                    <div class="form-group full-width">
                        <label for="direccion">Dirección</label>
                        <input type="text" id="direccion" name="direccion">
                    </div>
                    <div class="form-group">
                        <label for="departamento">Departamento</label>
                        <select id="departamento" name="departamento">
                            <option value="">Seleccionar...</option>
                            <!-- Opciones cargadas dinámicamente -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="provincia">Provincia</label>
                        <select id="provincia" name="provincia" disabled>
                            <option value="">Seleccionar...</option>
                            <!-- Opciones cargadas dinámicamente -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="distrito">Distrito</label>
                        <select id="distrito" name="distrito" disabled>
                            <option value="">Seleccionar...</option>
                            <!-- Opciones cargadas dinámicamente -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="telefono">Teléfono</label>
                        <input type="tel" id="telefono" name="telefono">
                    </div>
                    <div class="form-group full-width">
                        <label for="correo">Correo Electrónico *</label>
                        <input type="email" id="correo" name="correo">
                    </div>
                </div>
            </div>

            <!-- Sección Laboral -->
            <div class="tab-content" id="tab-laboral">
                <h3>Información Laboral</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="tipoTrabajador">Tipo de Trabajador</label>
                        <select id="tipoTrabajador" name="tipoTrabajador">
                            <option value="">Seleccionar...</option>
                            <option value="EMPLEADO">Empleado</option>
                            <option value="OBRERO">Obrero</option>
                            <option value="PRACTICANTE">Practicante</option>
                            <option value="CONSULTOR">Consultor</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="cargo">Cargo *</label>
                        <select id="cargo" name="cargo">
                            <option value="">Seleccionar...</option>
                            <option value="Operario de Máquinas">Operario de Máquinas</option>
                            <option value="Supervisor de Línea">Supervisor de Línea</option>
                            <option value="Técnico de Equipos">Técnico de Equipos</option>
                            <option value="Contador">Contador</option>
                            <option value="Inspector de Tejidos">Inspector de Tejidos</option>
                            <option value="Gerente">Gerente</option>
                            <option value="Asistente">Asistente</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="area">Área *</label>
                        <select id="area" name="area">
                            <option value="">Seleccionar...</option>
                            <option value="Producción">Producción</option>
                            <option value="Administración">Administración</option>
                            <option value="Mantenimiento">Mantenimiento</option>
                            <option value="Control de Calidad">Control de Calidad</option>
                            <option value="Ventas">Ventas</option>
                            <option value="Recursos Humanos">Recursos Humanos</option>
                            <option value="Finanzas">Finanzas</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="fechaIngreso">Fecha de Ingreso *</label>
                        <input type="date" id="fechaIngreso" name="fechaIngreso">
                    </div>
                    <div class="form-group">
                        <label for="tipoContrato">Tipo de Contrato</label>
                        <select id="tipoContrato" name="tipoContrato">
                            <option value="">Seleccionar...</option>
                            <option value="INDEFINIDO">Indefinido</option>
                            <option value="TEMPORAL">Temporal</option>
                            <option value="LOCACION">Locación de Servicios</option>
                            <option value="PRACTICAS">Prácticas</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="sueldoBasico">Sueldo Básico *</label>
                        <input type="number" step="0.01" id="sueldoBasico" name="sueldoBasico">
                    </div>
                    <div class="form-group">
                        <label for="regimenLaboral">Régimen Laboral</label>
                        <select id="regimenLaboral" name="regimenLaboral">
                            <option value="">Seleccionar...</option>
                            <option value="GENERAL">Régimen General</option>
                            <option value="MYPE">Régimen MYPE</option>
                            <option value="AGRARIO">Régimen Agrario</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="tipoJornada">Tipo de Jornada</label>
                        <select id="tipoJornada" name="tipoJornada">
                            <option value="">Seleccionar...</option>
                            <option value="COMPLETA">Jornada Completa</option>
                            <option value="PARCIAL">Jornada Parcial</option>
                            <option value="REDUCIDA">Jornada Reducida</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="turnos">Turnos</label>
                        <select id="turnos" name="turnos">
                            <option value="">Seleccionar...</option>
                            <option value="MAÑANA">Mañana</option>
                            <option value="TARDE">Tarde</option>
                            <option value="NOCHE">Noche</option>
                            <option value="ROTATIVO">Rotativo</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Sección Financiamiento -->
            <div class="tab-content" id="tab-financiero">
                <h3>Datos Financieros y de Pensión</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="banco">Banco</label>
                        <select id="banco" name="banco">
                            <option value="">Seleccionar...</option>
                            <option value="BCP">Banco de Crédito del Perú</option>
                            <option value="BBVA">BBVA</option>
                            <option value="INTERBANK">Interbank</option>
                            <option value="SCOTIABANK">Scotiabank</option>
                            <option value="BN">Banco de la Nación</option>
                            <option value="BANBIF">Banbif</option>
                            <option value="PICHINCHA">Banco Pichincha</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="numeroCuenta">Número de Cuenta</label>
                        <input type="text" id="numeroCuenta" name="numeroCuenta">
                    </div>
                    <div class="form-group full-width">
                        <label for="cci">CCI (Código de Cuenta Interbancario)</label>
                        <input type="text" id="cci" name="cci" maxlength="20">
                    </div>
                    <div class="form-group">
                        <label for="sistemaPension">Sistema de Pensión</label>
                        <select id="sistemaPension" name="sistemaPension">
                            <option value="">Cargando sistemas...</option>
                            <!-- Los sistemas se cargarán dinámicamente desde la base de datos -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="numeroAfiliacion">Número de Afiliación</label>
                        <input type="text" id="numeroAfiliacion" name="numeroAfiliacion">
                    </div>
                </div>
            </div>
        </form>
        
        <!-- Botones del Modal -->
        <div class="modal-footer">
            <button type="button" class="btn-cancelar" id="btnCancelar">Cancelar</button>
            <button type="submit" class="btn-guardar" form="formTrabajador">Guardar Trabajador</button>
        </div>
    </div>
</div>

<!-- Modal de Detalle del Trabajador -->
<div class="modal-overlay" id="modalDetalleTrabajador">
    <div class="modal-detalle-container">
        <div class="modal-header">
            <h2>Detalle del Trabajador</h2>
            <button class="modal-close" id="btnCerrarModalDetalle">&times;</button>
        </div>
        
        <!-- Pestañas del Modal de Detalle -->
        <div class="modal-tabs">
            <button class="tab-button active" data-tab-detalle="resumen">Resumen</button>
            <button class="tab-button" data-tab-detalle="personal">Personal</button>
            <button class="tab-button" data-tab-detalle="laboral">Laboral</button>
            <button class="tab-button" data-tab-detalle="conceptos">Conceptos</button>
        </div>
        
        <div class="modal-detalle-content">
            <!-- Sección Resumen General -->
            <div class="tab-detalle-content active" id="tab-detalle-resumen">
                <h3>Resumen General</h3>
                <div class="detalle-grid-3-columnas">
                    <div class="detalle-columna">
                        <div class="detalle-campo">
                            <label>Documento:</label>
                            <span id="detalle-documento-completo"></span>
                        </div>
                        <div class="detalle-campo">
                            <label>Sexo:</label>
                            <span id="detalle-sexo"></span>
                        </div>
                        <div class="detalle-campo">
                            <label>Teléfono:</label>
                            <span id="detalle-telefono"></span>
                        </div>
                        <div class="detalle-campo">
                            <label>Fecha de Ingreso:</label>
                            <span id="detalle-fecha-ingreso"></span>
                        </div>
                        <div class="detalle-campo">
                            <label>Sistema de Pensión:</label>
                            <span id="detalle-sistema-pension"></span>
                        </div>
                    </div>
                    <div class="detalle-columna">
                        <div class="detalle-campo">
                            <label>Fecha de Nacimiento:</label>
                            <span id="detalle-fecha-nacimiento"></span>
                        </div>
                        <div class="detalle-campo">
                            <label>Estado Civil:</label>
                            <span id="detalle-estado-civil"></span>
                        </div>
                        <div class="detalle-campo">
                            <label>Email:</label>
                            <span id="detalle-email"></span>
                        </div>
                        <div class="detalle-campo">
                            <label>Sueldo Básico:</label>
                            <span id="detalle-sueldo-basico"></span>
                        </div>
                    </div>
                    <div class="detalle-columna">
                        <div class="detalle-campo">
                            <label>Nacionalidad:</label>
                            <span id="detalle-nacionalidad"></span>
                        </div>
                        <div class="detalle-campo">
                            <label>Dirección:</label>
                            <span id="detalle-direccion"></span>
                        </div>
                        <div class="detalle-campo">
                            <label>Tipo de Trabajador:</label>
                            <span id="detalle-tipo-trabajador"></span>
                        </div>
                        <div class="detalle-campo">
                            <label>Banco:</label>
                            <span id="detalle-banco"></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sección Personal -->
            <div class="tab-detalle-content" id="tab-detalle-personal">
                <h3>Personal</h3>
                <div class="detalle-grid-2-columnas">
                    <div class="detalle-seccion">
                        <h4>Datos Personales</h4>
                        <div class="detalle-grid-2-sub">
                            <div class="detalle-sub-columna">
                                <div class="detalle-campo">
                                    <label>Documento:</label>
                                    <span id="detalle-personal-documento"></span>
                                </div>
                                <div class="detalle-campo">
                                    <label>Fecha de Nacimiento:</label>
                                    <span id="detalle-personal-fecha-nacimiento"></span>
                                </div>
                                <div class="detalle-campo">
                                    <label>Estado Civil:</label>
                                    <span id="detalle-personal-estado-civil"></span>
                                </div>
                            </div>
                            <div class="detalle-sub-columna">
                                <div class="detalle-campo">
                                    <label>Nacionalidad:</label>
                                    <span id="detalle-personal-nacionalidad"></span>
                                </div>
                                <div class="detalle-campo">
                                    <label>Sexo:</label>
                                    <span id="detalle-personal-sexo"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="detalle-seccion">
                        <h4>Contacto</h4>
                        <div class="detalle-campos-contacto">
                            <div class="detalle-campo">
                                <label>Dirección:</label>
                                <span id="detalle-contacto-direccion"></span>
                            </div>
                            <div class="detalle-grid-3-sub">
                                <div class="detalle-campo">
                                    <label>Departamento:</label>
                                    <span id="detalle-contacto-departamento"></span>
                                </div>
                                <div class="detalle-campo">
                                    <label>Provincia:</label>
                                    <span id="detalle-contacto-provincia"></span>
                                </div>
                                <div class="detalle-campo">
                                    <label>Distrito:</label>
                                    <span id="detalle-contacto-distrito"></span>
                                </div>
                            </div>
                            <div class="detalle-grid-2-sub">
                                <div class="detalle-campo">
                                    <label>Teléfono:</label>
                                    <span id="detalle-contacto-telefono"></span>
                                </div>
                                <div class="detalle-campo">
                                    <label>Email:</label>
                                    <span id="detalle-contacto-email"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sección Laboral -->
            <div class="tab-detalle-content" id="tab-detalle-laboral">
                <h3>Información Laboral</h3>
                <div class="detalle-grid-2-columnas">
                    <div class="detalle-columna">
                        <div class="detalle-campo">
                            <label>Tipo de Trabajador:</label>
                            <span id="detalle-laboral-tipo-trabajador"></span>
                        </div>
                        <div class="detalle-campo">
                            <label>Fecha de Ingreso:</label>
                            <span id="detalle-laboral-fecha-ingreso"></span>
                        </div>
                        <div class="detalle-campo">
                            <label>Sueldo Básico:</label>
                            <span id="detalle-laboral-sueldo-basico"></span>
                        </div>
                        <div class="detalle-campo">
                            <label>Jornada:</label>
                            <span id="detalle-laboral-jornada"></span>
                        </div>
                    </div>
                    <div class="detalle-columna">
                        <div class="detalle-campo">
                            <label>Área:</label>
                            <span id="detalle-laboral-area"></span>
                        </div>
                        <div class="detalle-campo">
                            <label>Tipo de Contrato:</label>
                            <span id="detalle-laboral-tipo-contrato"></span>
                        </div>
                        <div class="detalle-campo">
                            <label>Régimen Laboral:</label>
                            <span id="detalle-laboral-regimen-laboral"></span>
                        </div>
                        <div class="detalle-campo">
                            <label>Turno:</label>
                            <span id="detalle-laboral-turno"></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sección Conceptos -->
            <div class="tab-detalle-content" id="tab-detalle-conceptos">
                <h3>Asignar Nuevo Concepto</h3>
                <div class="conceptos-asignacion">
                    <div class="conceptos-form-row">
                        <div class="conceptos-campo">
                            <label for="concepto-select">Concepto:</label>
                            <select id="concepto-select">
                                <option value="">Seleccionar concepto...</option>
                                <!-- Los conceptos se cargarán dinámicamente -->
                            </select>
                        </div>
                        <div class="conceptos-campo">
                            <button type="button" class="btn-asignar-concepto">Asignar</button>
                        </div>
                    </div>
                </div>
                
                <div class="conceptos-asignados">
                    <h4>Conceptos Asignados</h4>
                    <div id="conceptos-asignados-container" class="conceptos-asignados-container">
                        <!-- Los conceptos asignados se cargarán dinámicamente como paneles horizontales -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="trabajadores.js"></script>